# testing-library 中事件触发的测试

## 常用的事件触发

1. fireEvent 是 React Testing Library 提供的一组 API，通过它我们可以高效模拟事件的触发。
2. user-event

### fireEvent

```js
firEvent.keyDown(node, { key: '', code: 'Space', charCode: 32 });
```

### user-event

### 二者的选择

在 API 支持的情况下，推荐优先使用 userEvent。  
从实现上来说，fireEvent 采用简单的事件模拟方式，只会触发对应的事件，并不是真实还原用户操作的完整场景，而 userEvent 暴露的每个方法都是根据实际事件场景去定制的还原。  
从用例的强健性上看，与网页使用方式越相近的测试用例，给予我们的信心就会越大，用例也不容易变更或是遗漏边缘情况。

## Jest 提供的一些事件断言

1. `toBeCalled()`，是否被调用；
2. `toBeCalledTimes(4)`，断言被调用的次数。
